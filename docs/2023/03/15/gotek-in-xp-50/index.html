<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="Further to my last post on recommissioning my Roland XP-50 workstation, I replaced the floppy drive with a Gotek floppy emulator. I can now use USB memory sticks to store files and transfer them betwe">
<meta property="og:type" content="article">
<meta property="og:title" content="Using a Gotek USB Floppy Emulator in a Roland XP-50">
<meta property="og:url" content="https://fullmeasure.uk/2023/03/15/gotek-in-xp-50/index.html">
<meta property="og:site_name" content="FullMeasure Blog">
<meta property="og:description" content="Further to my last post on recommissioning my Roland XP-50 workstation, I replaced the floppy drive with a Gotek floppy emulator. I can now use USB memory sticks to store files and transfer them betwe">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://fullmeasure.uk/images/XP-50/gotek.jpg">
<meta property="article:published_time" content="2023-03-15T16:47:00.000Z">
<meta property="article:modified_time" content="2023-04-15T10:40:47.808Z">
<meta property="article:author" content="Steve Lee">
<meta property="article:tag" content="music,technology,education">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://fullmeasure.uk/images/XP-50/gotek.jpg">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>Using a Gotek USB Floppy Emulator in a Roland XP-50</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
<meta name="generator" content="Hexo 6.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/projects/">Projects</a></li>
         
          <li><a href="/awesome-musicality/">Awesome</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" href="/2023/03/03/roland-xp-50-cleanup/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://fullmeasure.uk/2023/03/15/gotek-in-xp-50/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://fullmeasure.uk/2023/03/15/gotek-in-xp-50/&text=Using a Gotek USB Floppy Emulator in a Roland XP-50"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://fullmeasure.uk/2023/03/15/gotek-in-xp-50/&title=Using a Gotek USB Floppy Emulator in a Roland XP-50"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://fullmeasure.uk/2023/03/15/gotek-in-xp-50/&is_video=false&description=Using a Gotek USB Floppy Emulator in a Roland XP-50"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Using a Gotek USB Floppy Emulator in a Roland XP-50&body=Check out this article: https://fullmeasure.uk/2023/03/15/gotek-in-xp-50/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://fullmeasure.uk/2023/03/15/gotek-in-xp-50/&title=Using a Gotek USB Floppy Emulator in a Roland XP-50"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://fullmeasure.uk/2023/03/15/gotek-in-xp-50/&title=Using a Gotek USB Floppy Emulator in a Roland XP-50"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://fullmeasure.uk/2023/03/15/gotek-in-xp-50/&title=Using a Gotek USB Floppy Emulator in a Roland XP-50"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://fullmeasure.uk/2023/03/15/gotek-in-xp-50/&title=Using a Gotek USB Floppy Emulator in a Roland XP-50"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://fullmeasure.uk/2023/03/15/gotek-in-xp-50/&name=Using a Gotek USB Floppy Emulator in a Roland XP-50&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Acquiring-a-Gotek"><span class="toc-number">1.</span> <span class="toc-text">Acquiring a Gotek</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Setting-up-the-Gotek"><span class="toc-number">2.</span> <span class="toc-text">Setting up the Gotek</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Testing-and-Using-the-Gotek"><span class="toc-number">3.</span> <span class="toc-text">Testing and Using the Gotek</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Unknowns"><span class="toc-number">4.</span> <span class="toc-text">Unknowns</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Using a Gotek USB Floppy Emulator in a Roland XP-50
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">FullMeasure Blog</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2023-03-15T16:47:00.000Z" itemprop="datePublished">2023-03-15</time>
        
      
    </div>


      

      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>Further to my last post on recommissioning my Roland XP-50 workstation, I replaced the floppy drive with a Gotek floppy emulator. I can now use USB memory sticks to store files and transfer them between my PC. For example MIDI .mid files can be put on a virtual floppy on a USB via my PC and then accessed by the XP-50.</p>
<p>The <a target="_blank" rel="noopener" href="https://www.gotekemulator.com/">Gotek USB Floppy Emulators</a> are well proven replacements for 3.5 inch floppy drives. They use ubiquitous USB memory sticks to hold a large number of virtual floppies using image files. Replacing the stock firmware with FastFloppy provides a reliable solution that works in almost all possible applications, including old Roland workstations like my XP-50.</p>
<p>Additionally, the <a target="_blank" rel="noopener" href="https://www.winimage.com/winimage.htm">WinImage</a> program is useful for working with the images on a PC, including inserting and removing files. It is shareware, but only cost $30 for the basic version which seems quite adequate.</p>
<p>It took me a while to figure out the correct and current info so I provide a summary here. It should also apply to other musical instruments with floppy drives.</p>
<p><img src="/images/XP-50/gotek.jpg" alt="The Gotek in situ"></p>
<figcaption>Gotek Floppy Emulator working in the XP-50</figcaption>

<h2 id="Acquiring-a-Gotek"><a href="#Acquiring-a-Gotek" class="headerlink" title="Acquiring a Gotek"></a>Acquiring a Gotek</h2><p>Gotek only supply in bulk but there many, many suppliers who will sell individual units to end users. Confusingly, there are many models available from Gotek and several variations have appeared over time. Many suppliers badge them and do not specify which version they provide. In addition, it is possible to upgrade the stock Gotek hardware with a better display and a rotary control. Some suppliers provide these updates pre installed.</p>
<p>Fortunately, this complexity is well covered in the <a target="_blank" rel="noopener" href="https://github.com/keirf/flashfloppy/wiki/Gotek-Models">FastFloppy Gotek model documentation</a>.</p>
<p>I played safe and purchased a device specifically listed as <a target="_blank" rel="noopener" href="https://www.gotekemulator.com/P_view.asp?pid=55">SFR1M44-U100K GoTek 1.44MB USB SSD Floppy Drive Emulator for YAMAHA KORG ROLAND Electronic Keyboard</a> with 7 segment display and two buttons. However, I didn’t know about the significant variation over time that FastFloppy details. Fortunately though, the model I received was a recent SFRKC30AT3 using the Artery AT32F415 chip (not the very latest). Gotek changed chip manufactures to Artery due to escalating costs.</p>
<h2 id="Setting-up-the-Gotek"><a href="#Setting-up-the-Gotek" class="headerlink" title="Setting up the Gotek"></a>Setting up the Gotek</h2><p>The first thing to do is install the FastFloppy firmware on the Gotek. The Gotek drive is then installed replacing the floppy drive.</p>
<p>Installing FastFloppy is straightforward. Connect the Gotek to a PC with a USB cable, install the Artery driver and flashing software on the PC and use it to flash FastFloppy on the Gotek. Full details are provided in the <a target="_blank" rel="noopener" href="https://github.com/keirf/flashfloppy/wiki/Firmware-Programming">FastFloppy Firmware Programming docs</a>.</p>
<p>Swapping the drives is also straightforward, as you’d expect. In my case just 4 screws and after finding conflicting advice over jumper settings only a single S0 jumper was needed. The floppy drive was configured for S0 (first drive) and Ready signal on pin 24, but FastFloppy just required the S0 jumper. </p>
<p>Turning on the XP-50 after installation, the Gotek display showed “F-F” indicating for FastFloppy was installed and running.</p>
<h2 id="Testing-and-Using-the-Gotek"><a href="#Testing-and-Using-the-Gotek" class="headerlink" title="Testing and Using the Gotek"></a>Testing and Using the Gotek</h2><p>After some confusion caused by various aged articles, I was pleased to discover the latest FastFloppy firmware makes it “easy peasy” to use the drive. Both in the XP-50 and when transferring files between the XP-50 and a PC. I performed an initial “smoke test” as follows:</p>
<ul>
<li>Format the USB stick as FAT using DiskManager (or Windows Explorer)</li>
<li>Grab the FastFloppy empty 1.44MB image file from the <a target="_blank" rel="noopener" href="https://github.com/keirf/flashfloppy-images/blob/master/README.md">image library</a> and put two copies on the stick</li>
<li>Plug the stick into the Gotek and turn the XP-50 on</li>
<li>After startup, the Gotext buttons allow switching between slot “000” and “001” indicating the two images are seen</li>
<li>Use XP-50 Disk utilities to check the images can be seen format one - takes over a minute but then the Gotek is emulating a slow floppy</li>
<li>Plug the stick into a PC running WinImage</li>
<li>Grab a MIDI .mid file, test it on <a target="_blank" rel="noopener" href="https://musescore.org/en">MuseScore</a> and add it to the formatted image file with WinImage (I used Bach’s Air on a G String from <a target="_blank" rel="noopener" href="https://www.midiworld.com/">MidiWorld</a>)</li>
<li>Pop the stick back in the XP-50, select the image, load the file, select General Midi mode and play it</li>
<li>Enjoy the cheesy GM sounds</li>
</ul>
<p>That’s it. I can now read and write files to the floppy images on both devices. And no nasty, unreliable and now expensive floppy discs required.</p>
<h2 id="Unknowns"><a href="#Unknowns" class="headerlink" title="Unknowns"></a>Unknowns</h2><p>It’s not clear if FastFloppy has any restrictions on the type or size of USB memory stick used. I used a 32GB SansDisk job without problems. </p>
<p>Access on the XP-50 is fairly slow but I guess FastFloppy is emulating timings to keep the host hardware happy. There are some FastFloppy notes on how to mitigate slow Roland access which I’ll keep in mind in case I feel I needed it.</p>
<p>Unless I upgrade the Gotek hardware I will need to keep track of the slot numbers for each image file. By default, FastFloppy assigns slot numbers automatically but does not explain how. Perhaps based on FAT directory order? It is also possible to use a config file to change to using image filenames that include the slot number.</p>
<p>The green LED is on all the time. I’m not sure if this is expected or it should flash during access. Not an issue at all.</p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/projects/">Projects</a></li>
         
          <li><a href="/awesome-musicality/">Awesome</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Acquiring-a-Gotek"><span class="toc-number">1.</span> <span class="toc-text">Acquiring a Gotek</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Setting-up-the-Gotek"><span class="toc-number">2.</span> <span class="toc-text">Setting up the Gotek</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Testing-and-Using-the-Gotek"><span class="toc-number">3.</span> <span class="toc-text">Testing and Using the Gotek</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Unknowns"><span class="toc-number">4.</span> <span class="toc-text">Unknowns</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://fullmeasure.uk/2023/03/15/gotek-in-xp-50/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://fullmeasure.uk/2023/03/15/gotek-in-xp-50/&text=Using a Gotek USB Floppy Emulator in a Roland XP-50"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://fullmeasure.uk/2023/03/15/gotek-in-xp-50/&title=Using a Gotek USB Floppy Emulator in a Roland XP-50"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://fullmeasure.uk/2023/03/15/gotek-in-xp-50/&is_video=false&description=Using a Gotek USB Floppy Emulator in a Roland XP-50"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Using a Gotek USB Floppy Emulator in a Roland XP-50&body=Check out this article: https://fullmeasure.uk/2023/03/15/gotek-in-xp-50/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://fullmeasure.uk/2023/03/15/gotek-in-xp-50/&title=Using a Gotek USB Floppy Emulator in a Roland XP-50"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://fullmeasure.uk/2023/03/15/gotek-in-xp-50/&title=Using a Gotek USB Floppy Emulator in a Roland XP-50"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://fullmeasure.uk/2023/03/15/gotek-in-xp-50/&title=Using a Gotek USB Floppy Emulator in a Roland XP-50"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://fullmeasure.uk/2023/03/15/gotek-in-xp-50/&title=Using a Gotek USB Floppy Emulator in a Roland XP-50"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://fullmeasure.uk/2023/03/15/gotek-in-xp-50/&name=Using a Gotek USB Floppy Emulator in a Roland XP-50&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2023 Steve Lee
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/projects/">Projects</a></li>
         
          <li><a href="/awesome-musicality/">Awesome</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight .code pre").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      target: function(trigger) {
        return trigger.nextElementSibling;
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Disqus Comments -->


</body>
</html>
